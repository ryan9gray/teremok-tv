//
//  SearchMusicPresenter.swift
//  Teremok-TV
//
//  Created by Evgeny Ivanov on 14/04/2019.
//  Copyright (c) 2019 xmedia. All rights reserved.
//
//  This file was generated by the Clean Swift Xcode Templates so
//  you can apply clean architecture to your iOS and Mac projects,
//  see http://clean-swift.com
//

import UIKit

protocol SearchMusicPresentationLogic: CommonPresentationLogic {
    func present(tracks: [MusicPlaylistItemResponse])
}

class SearchMusicPresenter: SearchMusicPresentationLogic {
    var displayModule: CommonDisplayLogic? {
        return viewController
    }
    weak var viewController: SearchMusicDisplayLogic?
  
    func present(tracks: [MusicPlaylistItemResponse]) {
        var playlistTracks: [SearchMusic.Track] = []
        for track in tracks {
            let interval = "\(PlayerHelper.stringFromTimeInterval(TimeInterval(track.duration)))"
            let itemTrack = SearchMusic.Track(imageUrl: track.album?.poster ?? "", title: track.name , subtitle: track.description , duration: interval)
            playlistTracks.append(itemTrack)
        }
        viewController?.displayPlaylist(playlistTracks)
    }
}
